<title>~20 lines of js</title>

yeah, the whole framework in about 20 lines. here is the full code with comment per line:
<br />
<br />
<code>
  // inject the content to this <br />
  content = document.querySelector("#content"); <br />
  // post names listed here <br />
  Dlist = document.querySelector("#Dlist"); <br />
  <br />
  // The path to the posts <br />
  // var pathToPosts = "/Dposts"; //is getting from html script tag <br />
  <br />
  // the accent color of the page <br />
  // var hue = 150 <br />
  document.documentElement.style.setProperty("--accenthue", hue); <br />
  <br />
  // get all the post names as list and do smthng with them <br />
  $.getJSON( <br />
  ~~~~// the path to the folder which the posts are in <br />
  ~~~~document.URL.substr(0, document.URL.lastIndexOf("/")) + pathToPosts, <br />
  ~~~~// the path names are given as paremeter allPostNames (as list) to this function <br />
  ~~~~(allPostNames) => { <br />
  ~~~~~~~~// for every post name <br />
  ~~~~~~~~allPostNames.forEach((P) => { <br />
  ~~~~~~~~~~~~// make a button for this <br />
  ~~~~~~~~~~~~element = document.createElement("button"); <br />
  ~~~~~~~~~~~~// button's text is post's name <br />
  ~~~~~~~~~~~~element.innerHTML = P; <br />
  ~~~~~~~~~~~~// when the button is clicked <br />
  ~~~~~~~~~~~~element.addEventListener("click", (e) => { <br />
  ~~~~~~~~~~~~~~~~// get the file in the posts folder by its name <br />
  ~~~~~~~~~~~~~~~~fetch(`${pathToPosts}/` + P).then((r) => { <br />
  ~~~~~~~~~~~~~~~~~~~~// convert it to the text <br />
  ~~~~~~~~~~~~~~~~~~~~r.text().then((d) => { <br />
  ~~~~~~~~~~~~~~~~~~~~~~~~// and inject it to the content element <br />
  ~~~~~~~~~~~~~~~~~~~~~~~~content.innerHTML = d; <br />
  ~~~~~~~~~~~~~~~~~~~~}); <br />
  ~~~~~~~~~~~~~~~~}); <br />
  ~~~~~~~~~~~~}); <br />
  ~~~~~~~~~~~~// add the button to the list <br />
  ~~~~~~~~~~~~Dlist.appendChild(element); <br />
  ~~~~~~~~}); <br />
  ~~~~} <br />
  ); <br />
</code>
<br />
<br />
<br />
I know it really looks horrible. no syntax highlight, no anything, even tab spaces are just tilde :d but it is the core,
and making it in 20 lines requires some compromise. you can use PrismJS to highlight code with Docronym. it is rare to
have issue with that little code. (there is a few more lines to match your loved color tone to the page or custom folder
name)
<br />
<br />
<h1>But there is JQUERY ?</h1>
I import JQUERY just for this large getJSON function. if there is some way to do this with pure JS, please let me know.
I'm sure there should be ways.
